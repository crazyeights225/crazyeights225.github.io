<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>crazyeights225</title>
   
    <link rel="stylesheet" href="../assets/bulma.min.css">
    <link rel="stylesheet" href="../static/default.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="../assets/js/navbar.js"></script><style>
      span{margin: 0; line-height: 125%; white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;}pre{padding:0.5rem 0.5rem!important;}
    </style>
  </head>
  <body>
    <div id="app" class="mt-2">
        <nav class="navbar container" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
              <a class="navbar-item" href="/">
                <img src="../assets/logo.png">
              </a>
              <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbar">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
              </a>
            </div>
            <div id="navbar" class="navbar-menu">
              <div class="navbar-start">
                    <a href="../index.html" class="navbar-item">Posts</a>
                    <a href="../projects.html" class="navbar-item">Projects</a>
              </div>
            </div>
          </nav>
    </div>
    <div class="hero-body mt-2" style="background-color: #285aff;">
        <div class="container has-text-centered">
            <h1 class="title" style="color: #f1f1f1;">
                HackTheBox: Blocky
            </h1>
            <h2 class="subtitle" style="color: #f1f1f1;">
                Jan, 2021
            </h2>
        </div>
    </div>
<section class="section mt-2">
  <div class="container">
  <div class="columns">
  <div class="content column is-10">
    <nav class="breadcrumb mb-5" aria-label="breadcrumbs">
        <ul>
          <li><a href="../index.html">Posts</a></li>
          <li><a href="../sec.html">CTFs and Vulnerable VMs</a></li>
          <li class="is-active"><a href="#" aria-current="page">Blocky</a></li>
        </ul>
      </nav>
<article class="message is-link">
  <div class="message-body">
    üê∞ Warning: Rabbit Holes
  </div>
</article>
<h2>Scanning</h2><p >First find running services:</p><pre class="code code-wrap"><code><span>crazyeights@es-base:~$ nmap -PS 10.10.10.37
Starting Nmap 7.80 ( https://nmap.org ) at 2021-01-15 11:40 EST
Nmap scan report for 10.10.10.37
Host is up (0.038s latency).
Not shown: 996 filtered ports
PORT     STATE  SERVICE
21/tcp   open   ftp
22/tcp   open   ssh
80/tcp   open   http
8192/tcp closed sophos

Nmap done: 1 IP address (1 host up) scanned in 8.49 seconds
crazyeights@es-base:~$</span></code></pre><h2 >Port 80:</h2><p >On port 80 we find a wordpress:</p><figure id="84f3214c-1eed-4879-8f4c-d4767ce2a2cf" class="image"><a href="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_11-40-58.png"><img style="width:1255px" src="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_11-40-58.png"/></a></figure><p >We can see that the server is under construction and there doesn&#x27;t appear to be any content.</p><figure id="cb6c5540-c619-4b95-87d6-d0b5e30697b2" class="image"><a href="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-23-46.png"><img style="width:1247px" src="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-23-46.png"/></a></figure><p >
</p><p >Trying to get credentials and login to the WordPress is a rabbit hole.</p><p >When enumerating we see the directory plugins:</p><figure id="245eeb83-110c-4a7f-9f0d-d664e50f8ccf" class="image"><a href="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-24-16.png"><img style="width:714px" src="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-24-16.png"/></a></figure><p >In this directory there are two jar files:</p><figure id="e0984906-ef22-4476-8ad6-756e7a423f77" class="image"><a href="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_11-47-21.png"><img style="width:1255px" src="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_11-47-21.png"/></a></figure><p >
</p><p >Download them both, and open them with jadx-gui to retrieve their source.</p><p >The grief prevention jar is rabbit-hole. </p><p >
</p><p >We find a set of credentials:</p><figure id="9d4218e9-88a5-47fd-8bd3-8494a0706145" class="image"><a href="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-24-23.png"><img style="width:1407px" src="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-24-23.png"/></a></figure><p >
</p><p >We can use these credentials to login to phpmyadmin.</p><p >In the database for wordpress we find the credentials for the user notch:</p><figure id="7e68f912-69d5-4abe-a1a3-bf89dfc1a32b" class="image"><a href="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-23-57.png"><img style="width:1631px" src="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-23-57.png"/></a></figure><p >
</p><p >Trying to crack the hash of the notch user is another rabbit-hole.</p><p >I got stuck here awhile trying to crack the password for notch, but the password for phpmyadmin is also the password for notch.</p><h2 >User</h2><p >We now have the credentials for the user notch, and we can login via SSH:</p><pre class="code code-wrap"><code><span>crazyeights@es-base:~$ ssh notch@10.10.10.37

Last login: Tue Jul 25 11:14:53 2017 from 10.10.14.230
notch@Blocky:~$ ls
minecraft  user.txt
notch@Blocky:~$ cat user.txt 
59fe_i_dont_want_to_get_in_trouble</span></code></pre><p >
When we check if notch can run anything with elevated privileges we find that notch can run all commands as root. So we can login as root and get the root flag.</p><figure id="ad030c6d-7166-4240-9f10-c5f2faa0dcaf" class="image"><a href="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-22-43.png"><img style="width:576px" src="Blocky%2084f3214c1eed48798f4cd4767ce2a2cf/Screenshot_from_2021-01-15_12-22-43.png"/></a></figure><p >FIN. ü•≥</p>
</div>
</div></div></section><footer class="footer">
    <div class="container">
        <div class="columns">
        </div>
    </div>
</footer>
</body>
</html>